# 需求文档 - 积分任务资讯应用

## 介绍

本系统是一个"看资讯赚积分"类型的激励型内容平台，通过内容消费和任务完成机制，为用户提供积分奖励，形成"内容+激励"的用户留存闭环。用户可以通过浏览资讯、观看视频、完成每日任务等方式获得积分，积分可用于兑换现金或商品。

### 业务闭环
用户浏览内容/完成任务 → 获得积分奖励 → 积分累积 → 兑换现金/商品 → 提现/消费 → 继续使用APP


## 术语表

- **系统**: 积分任务资讯应用系统
- **用户**: 使用应用的注册用户
- **资讯内容模块**: 负责展示和管理资讯内容
- **任务模块**: 负责管理和分发用户任务
- **积分系统**: 负责积分的发放、冻结、释放和兑换
- **签到系统**: 负责管理用户每日签到
- **用户档案**: 存储用户信息和资产数据
- **活跃度分数**: 衡量用户参与度的指标
- **团队系统**: 负责管理用户邀请和团队关系
- **提现系统**: 负责处理用户积分兑换和提现请求
- **资讯内容项**: 包括文章、视频等
- **任务**: 用户可完成以获得奖励的活动
- **积分**: 用户通过完成任务获得的虚拟货币
- **冻结积分**: 暂时不可使用的积分
- **待释放积分**: 等待释放的积分

## 需求

### 需求 1: 用户登录与身份管理

**用户故事**: 作为新用户，我想要通过微信授权快速登录，无需注册，以便快速开始使用应用并累积积分。

#### 验收标准

1. 当用户首次启动应用时，系统应显示微信授权登录按钮
2. 当用户点击微信授权登录时，系统应调用微信授权接口获取用户信息
3. 当微信授权成功时，系统应使用微信OpenID作为唯一用户标识创建或关联用户账号
4. 当用户账号首次创建时，系统应初始化用户资产数据（积分为0、冻结积分为0、待释放为平台赠送的积分）
5. 当用户账号首次创建时，系统应初始化用户活跃度为0
6. 当用户账号首次创建时，系统应从微信获取用户昵称和头像并保存到用户档案
7. 当用户登录成功时，系统应生成登录令牌（Token）并记录登录时间
8. 当用户在线时长超过24小时时，系统应强制用户退出并清除登录令牌
9. 当用户被强制退出时，系统应提示"登录已过期，请重新登录"并跳转到登录页面
10. 当用户重新登录时，系统应验证微信授权并重新生成登录令牌
11. 用户档案应存储用户昵称、头像、微信OpenID、用户ID、会员等级、资产信息和活跃度数据
12. 系统应支持用户主动退出登录功能

### 需求 2: 资讯内容浏览与广告解锁

**用户故事**: 作为用户，我想要浏览不同分类的资讯内容，通过观看广告解锁详情，以便获取感兴趣的信息并赚取积分。

#### 验收标准

##### 2.1 资讯内容获取
1. 系统应接入第三方资讯聚合平台API获取资讯内容
2. 后台应定时（每小时）从第三方平台获取最新资讯并存储到数据库
3. 后台应根据第三方平台的每日获取限制合理分配请求频率
4. 当第三方平台获取失败时，系统应记录错误日志并使用缓存数据
5. APP应通过后台接口获取资讯内容，而非直接调用第三方平台

##### 2.2 首页资讯展示
6. 当用户打开首页时，资讯内容模块应显示顶部分类导航栏（推荐、热点、娱乐、科技、财经等频道）
7. 当用户选择某个分类时，资讯内容模块应加载并显示该分类下的资讯列表
8. 当资讯列表加载时，资讯内容模块应显示每条资讯的标题、阅读数和缩略图
9. 当用户打开首页时，资讯内容模块应在顶部显示Banner轮播图
10. 首页应显示悬浮按钮用于统计用户停留时长

##### 2.3 停留时长统计
11. 当用户进入首页时，系统应开始计算停留时长
12. 当用户离开首页或切换到其他页面时，系统应停止计时并上报停留时长数据
13. 系统应将停留时长数据发送到后台用于活跃度统计
14. 悬浮按钮应实时显示当前停留时长（可选显示/隐藏）
15. 系统应每30秒向后台上报一次停留时长数据，防止数据丢失

##### 2.4 资讯详情广告解锁
16. 当用户点击资讯项时，系统应检查该资讯是否已解锁
17. 当资讯未解锁时，系统应显示"观看广告解锁内容"提示页面
18. 当用户点击观看广告时，系统应加载并播放激励视频广告
19. 当广告播放完成时，系统应解锁该资讯内容并记录解锁时间
20. 当资讯已解锁时，系统应直接显示资讯详情内容
21. 当解锁时间超过24小时，系统应将解锁状态失效，用户需重新观看广告
22. 系统应在资讯详情页顶部显示解锁剩余有效时间（倒计时）

##### 2.5 资讯详情信息流广告
23. 当用户查看资讯详情时，系统应在内容中插入信息流广告
24. 信息流广告应每个资讯插入一次，保持阅读体验
25. 信息流广告应与资讯内容样式保持一致，但需标注"广告"字样
26. 当用户点击信息流广告时，系统应记录广告点击行为并跳转到广告页面
27. 系统应统计信息流广告的展示次数和点击率

##### 2.6 阅读行为与积分
28. 当用户阅读资讯时，系统应记录阅读行为并更新阅读数
29. 当用户完成资讯阅读（滚动到底部或停留超过30秒）时，积分系统应根据业务规则发放积分奖励
30. 系统应防止用户重复刷取同一资讯的阅读积分（每篇资讯每日只奖励一次）

### 需求 3: 签到系统

**用户故事**: 作为用户，我想要通过每日签到并完成资讯解锁任务获得随机奖励，以便持续累积积分。

#### 验收标准

##### 3.1 签到入口与日历
1. 当用户进入任务中心时，签到系统应显示签到日历和当前签到状态
2. 签到系统应维护7天签到日历并显示已签到天数
3. 当用户在签到时间段内（06:00-12:00）时，签到按钮应显示为可点击状态
4. 当用户不在签到时间段内时，签到系统应显示下次签到时间
5. 当用户点击签到规则时，签到系统应显示签到规则说明

##### 3.2 签到流程 - 资讯解锁
6. 当用户点击签到按钮时，系统应跳转到一篇随机未解锁的资讯详情页
7. 系统应从资讯库中随机选择一篇用户未解锁的资讯
8. 当资讯详情页加载时，系统应显示"解锁内容"按钮
9. 当用户点击"解锁内容"按钮时，系统应弹出激励视频广告
10. 当激励视频广告加载失败时，系统应提示"广告加载失败，请稍后重试"

##### 3.3 广告观看与签到确认
11. 当用户观看激励视频广告时，系统应全屏播放广告内容
12. 当广告播放完成时，系统应验证观看完整性（观看时长达到要求）
13. 当广告观看验证通过时，系统应解锁当前资讯详情页内容
14. 当资讯解锁成功时，系统应弹出签到成功提示框（当广告看过的ECPM值低于后台设置的底线，则签到失败）
15. 签到成功提示框应显示"签到成功！获得X元奖励"
16. 用户必须点击"确认"按钮才能关闭提示框并完成签到

##### 3.4 随机奖励发放机制
17. 系统应从后台获取签到奖励的最低值和最高值配置（例如：1999-3999积分）
18. 系统应根据以下概率分布随机生成奖励金额：
    - 80%概率：奖励金额在[最低值, 最低值+20%区间]范围内（接近最低值）
    - 15%概率：奖励金额在[最低值+20%, 最低值+60%区间]范围内（中等值）
    - 5%概率：奖励金额在[最低值+60%, 最高值]范围内（接近最高值）
19. 系统应将随机生成的奖励金额保留2位小数
20. 当奖励金额生成后，系统应将其计入用户的待释放积分

##### 3.5 奖励发放与记录
21. 当用户点击确认后，积分系统应将奖励金额添加到待释放积分
22. 系统应更新用户的待释放积分余额并实时显示
23. 系统应在签到日历上标记当天已签到
24. 系统应记录签到时间、奖励金额、解锁的资讯ID
25. 当用户连续签到时，系统应显示连续签到天数
26. 系统应防止用户在同一天重复签到

##### 3.6 异常处理
27. 当用户在观看广告过程中退出时，系统应取消签到流程
28. 当签到流程被中断时，系统应提示"签到未完成，请重新签到"
29. 当没有未解锁资讯时，系统应提示"暂无可用资讯，请稍后再试"
30. 当奖励发放失败时，系统应记录错误日志并提示用户联系客服

### 需求 4: 每日任务系统

**用户故事**: 作为用户，我想要完成每日任务获得积分，以便通过多种方式赚取奖励。

#### 验收标准

##### 4.1 任务列表展示
1. 当用户进入任务中心时，任务模块应显示固定的每日任务列表
2. 每日任务列表应包含以下固定任务：
   - 每日签到（奖励积分）
   - 看广告赚积分（奖励积分，每日限X次）
   - 连续打卡（奖励积分）
   - 分享拿积分（奖励积分，每日限X次）
   - 邀请好友（奖励积分）
3. 当显示任务列表时，任务模块应显示每个任务的名称、奖励积分和完成状态
4. 如果任务有次数限制，任务模块应显示剩余可完成次数（例如：还剩3次）
5. 当任务完成时，任务模块应显示"已完成"或"已领取"状态

##### 4.2 任务执行流程
6. 当用户点击任务时，任务模块应引导用户执行任务操作
7. 当用户完成任务时，任务模块应验证任务完成条件
8. 当任务验证通过时，积分系统应发放任务奖励积分
9. 当任务验证通过时，任务模块应更新任务完成状态和剩余次数
10. 当任务达到每日次数上限时，任务模块应禁用该任务并显示"已完成"状态

##### 4.3 看广告拿积分任务
11. 当用户点击"看广告拿积分"任务时，系统应检查剩余可观看次数
12. 当剩余次数大于0时，系统应跳转到激励视频广告页面
13. 当剩余次数为0时，系统应提示"今日观看次数已用完，明天再来"
14. 当用户观看广告时，系统应加载并播放激励视频广告
15. 当广告播放完成时，系统应验证观看完整性（观看时长达到要求）
16. 当观看验证通过时，积分系统应发放广告奖励积分（ECPM只有高于后台设定值才发放积分，要么按真实ECPM值发放时抽成对应比例再发放、或者按随机区间发放直接调取随机值发放）
17. 当积分发放成功时，任务模块应减少剩余可观看次数
18. 系统应记录用户上次观看广告的时间

##### 4.4 连续打卡任务
19. 当用户点击"连续打卡"任务时，系统应打开连续打卡任务详情页
20. 连续打卡任务详情页应显示后台创建的所有可用连续打卡任务列表
21. 每个连续打卡任务应显示：任务名称、要求天数、奖励积分、截止时间
22. 当用户点击某个连续打卡任务时，系统应显示任务详情和"接受任务"按钮
23. 当用户点击"接受任务"按钮时，系统应开始计时并记录任务开始时间
24. 系统应在任务页面显示剩余完成时间倒计时
25. 当用户在规定时间内完成所有打卡时，系统应发放任务奖励
26. 当任务完成时，系统应显示"任务完成！获得X元积分"提示

##### 4.5 补卡机制
27. 当用户某天未完成打卡时，次日系统应在该日期上显示"补卡"图标
28. 补卡图标应标注"需邀请好友协助"
29. 当用户点击补卡图标时，系统应显示"邀请好友补卡"页面
30. 邀请好友补卡页面应显示邀请链接/二维码和分享按钮
31. 当新用户通过补卡邀请链接注册时，系统应建立补卡协助关系
32. 当被邀请的新用户完成注册后，系统应提示其"完成一次看广告任务即可帮助好友补卡"
33. 当新用户完成一次看广告任务时，系统应验证广告观看完整性
34. 当广告观看验证通过时，系统应将补卡标记为成功
35. 当补卡成功时，系统应更新打卡日历，将缺失的打卡标记为已完成
36. 系统应向邀请者发送"好友已帮你补卡成功"的通知

##### 4.6 补卡与拉新奖励互斥
37. 当用户存在未完成的补卡任务时，系统应优先将新邀请用户用于补卡
38. 当新用户通过补卡邀请链接注册并完成看广告任务时，系统应自动抵消补卡任务
39. 当补卡任务被抵消时，系统不应发放拉新奖励积分
40. 当用户没有补卡任务时，新邀请用户应正常计入拉新奖励
41. 系统应在邀请页面明确提示"当前邀请将用于补卡，不计入拉新奖励"
42. 当一个新用户抵消一个补卡任务后，如果还有其他补卡任务，下一个新用户继续用于补卡

##### 4.7 连续打卡任务失败
43. 当用户在规定时间内未完成所有打卡（包括补卡）时，系统应标记任务为失败
44. 当任务失败时，系统应显示"任务失败，下次继续努力"提示
45. 当任务失败时，系统应清除该任务的所有打卡记录
46. 用户可以重新接受新的连续打卡任务

##### 4.8 广告观看间隔限制
47. 当用户完成一次广告观看后，系统应启动5分钟冷却时间
48. 当冷却时间未结束时，用户点击"看广告赚金币"应提示"请X分钟后再来"
49. 系统应在任务按钮上显示冷却倒计时（例如：冷却中 3:45）
50. 当冷却时间结束时，系统应自动解除限制并允许用户继续观看
51. 系统应在用户切换页面或退出APP后仍保持冷却计时

##### 4.9 任务重置
52. 当新的一天开始（00:00）时，任务模块应重置所有每日任务的完成状态和次数
53. 当任务重置时，系统应清除所有任务的冷却时间
54. 系统应在任务中心顶部显示"距离任务重置还有X小时"的提示
55. 连续打卡任务不受每日重置影响，应持续计时直到任务完成或失败

##### 4.10 福利中心
56. 当用户点击"福利中心"功能时，弹出广告解锁当天都有效，次日进入需要再次弹出广告解锁，解锁后自动进入悬赏任务h5且当天内都有效无需再次解锁
##### 4.11 游动积分
57. 当用户点击"游动积分"功能时，弹出广告解锁当天都有效，次日进入需要再次弹出广告解锁，解锁后自动进入游戏试玩h5且当天内都有效无需再次解锁

### 需求 5: 邀请与团队系统

**用户故事**: 作为用户，我想要邀请好友加入并组建团队，以便获得团队奖励和提升活跃度。

#### 验收标准

1. 当用户点击"邀请好友"功能时，团队系统应生成用户专属邀请链接或邀请码
2. 当用户分享邀请链接时，系统应提供分享到社交平台的功能
3. 当新用户通过邀请链接注册时，团队系统应建立邀请关系并将新用户加入邀请者团队
4. 当邀请关系建立时，积分系统应向邀请者发放邀请奖励积分，发放的奖励积分处于冻结状态，阶梯奖励计划有三种：累积邀请阶梯、累积看广阶梯、累积提现阶梯
5. 当邀请关系建立时，团队系统应更新邀请者的团队人数统计
6. 团队系统应计算并显示团队平均活跃度
7. 团队系统应显示用户的团队积分总额
8. 当团队成员完成任务时，活跃度分数应更新团队平均活跃度
9. 如果邀请任务设置了奖励上限，任务模块应限制每日邀请奖励的最大计算人数

### 需求 6: 积分系统

**用户故事**: 作为用户，我想要查看和管理我的积分资产，以便了解我的收益情况。

#### 验收标准

1. 积分系统应维护用户的三种积分状态：可用积分、冻结积分、待释放积分
2. 当用户完成任务或活动时，积分系统应根据业务规则发放积分
3. 如果积分需要审核或延迟发放，积分系统应将积分标记为冻结状态
4. 当冻结条件解除时，积分系统应将冻结积分转为可用积分
5. 如果积分需要分批释放，积分系统应将积分标记为待释放状态并按规则逐步释放
6. 当用户查看积分明细时，积分系统应显示积分变动记录（来源、金额、时间）
7. 当用户点击积分兑换时，积分系统应显示可兑换的金额以及对应的积分（总积分=兑换积分+手续费积分）
8. 积分系统应确保积分余额不为负数
9. 当积分发放或扣除时，积分系统应实时更新用户资产显示

### 需求 7: 活跃度系统

**用户故事**: 作为用户，我想要提升我的活跃度，以便获得更多权益和奖励。

#### 验收标准

1. 活跃度分数应根据用户行为（签到、完成任务、浏览内容、邀请好友）计算活跃度分数
2. 当用户完成活跃度相关行为时，活跃度分数应增加相应的活跃度分数
3. 当用户查看"我的"页面时，系统应显示用户当前活跃度分数
4. 当用户查看"我的"页面时，系统应显示团队平均活跃度
5. 当用户点击"去增加活跃度"时，系统应引导用户到任务中心或推荐活跃度提升方式
6. 活跃度分数应根据时间周期（每日/每周/每月）重置或衰减活跃度分数
7. 如果用户活跃度达到特定阈值，系统应提供额外奖励或权益

### 需求 8: 提现系统

**用户故事**: 作为用户，我想要将积分兑换成现金并提现到支付宝或微信，以便获得实际收益。

#### 验收标准

##### 8.1 提现工具绑定
1. 当用户首次点击"我的提现"时，系统应检查用户是否已绑定提现工具
2. 当用户未绑定提现工具时，系统应跳转到"绑定提现账户"页面
3. 绑定页面应提供两个选项：支付宝、微信
4. 当用户选择支付宝时，跳转对应工具授权
5. 当用户选择微信时，跳转对应工具授权
6. 当用户提交绑定信息时，系统应验证账号格式的有效性
7. 当绑定成功时，系统应保存提现工具信息并跳转到提现页面
8. 用户可以在设置中修改已绑定的提现工具

##### 8.2 提现页面展示
9. 当用户打开提现页面时，系统应显示可提现金额（可用积分）
10. 系统应显示固定提现金额选项列表（由后台配置，例如：0.3元、1元、5元、10元、30元、50元）
11. 每个提现金额选项应显示所需积分数量（例如3200积分、10200积分。。。兑换的积分应该包含手续费）
12. 系统应显示用户的提现记录列表（时间、金额、状态）
13. 系统应显示已绑定的提现工具信息

##### 8.3 提现解锁条件检查
14. 当用户点击某个提现金额时，系统应检查用户是否满足提现解锁条件（10元以下的无需审核、提现秒到）
15. 系统应从后台获取提现解锁条件配置：
    - 需要解锁的资讯条数
    - 需要的停留时长（分钟）
16. 当用户点击提现后，系统应开始计算解锁进度（之前的不计算）
17. 系统应显示提现解锁进度页面，包含：
    - 已解锁资讯数 / 需要解锁资讯数
    - 已停留时长 / 需要停留时长
    - 实时进度条
18. 当用户解锁资讯时，系统应累加已解锁资讯数量
19. 当用户在APP内停留时，系统应累加停留时长
20. 当用户切换到后台或退出APP时，系统应暂停停留时长计时
21. 当用户返回APP时，系统应继续计时

##### 8.4 提现解锁完成
22. 当用户完成所有解锁条件时，系统应显示"解锁成功，可以提现"提示
23. 系统应自动跳转到提现确认页面
24. 提现确认页面应显示：提现金额、提现工具、预计到账时间
25. 当用户点击"确认提现"时，系统应验证用户可用积分是否充足

##### 8.5 提现审核机制
26. 系统应从后台获取需要审核的提现金额配置（例如：30元及以上需要审核）
27. 当提现金额不需要审核时，系统应直接扣除积分并创建提现订单，状态为"处理中"
28. 当提现金额需要审核时，系统应扣除积分并创建提现订单，状态为"待审核"
29. 当订单状态为"待审核"时，系统应提示"提现申请已提交，等待管理员审核"
30. 管理员审核通过后，系统应将订单状态更新为"处理中"
31. 管理员审核拒绝后，系统应将订单状态更新为"已拒绝"并退回扣除的积分

##### 8.6 提现处理
32. 当积分不足时，系统应拒绝提现请求并提示"积分不足，无法提现"
33. 当积分充足时，系统应扣除相应积分并创建提现订单
34. 当提现订单创建时，系统应根据是否需要审核设置订单状态
35. 当提现处理完成时，系统应将现金转入用户绑定的提现账户
36. 当提现成功时，系统应更新订单状态为"已完成"并记录完成时间
37. 当提现失败时，系统应退回扣除的积分并更新订单状态为"失败"
38. 系统应记录所有提现操作的详细日志（用户ID、金额、时间、状态、失败原因）

##### 8.7 提现记录
39. 当用户查看提现记录时，系统应显示所有提现订单
40. 每条提现记录应显示：提现金额、提现时间、订单状态、提现工具
41. 订单状态包括：待审核、处理中、已完成、失败、已拒绝
42. 当用户点击某条记录时，系统应显示该订单的详细信息

##### 8.8 提现限制
43. 系统应限制用户每日提现次数（由后台配置）
44. 当用户达到每日提现次数上限时，系统应提示"今日提现次数已用完"
45. 系统应在提现页面显示"今日剩余提现次数"

### 需求 9: 用户中心

**用户故事**: 作为用户，我想要在个人中心查看和管理我的账户信息，以便掌握我的使用情况。

#### 验收标准

1. 当用户打开"我的"页面时，系统应显示用户昵称和用户ID
2. 当用户打开"我的"页面时，系统应显示用户会员等级
3. 当用户打开"我的"页面时，系统应显示用户资产信息（冻结积分、待释放、可用积分）
4. 当用户打开"我的"页面时，系统应显示活跃度统计（个人活跃度、团队平均活跃、团队人数）
5. 当用户打开"我的"页面时，系统应显示功能入口（团队积分、分享、提现、客服、设置）
6. 当用户点击会员等级说明时，系统应显示会员等级体系和权益说明
7. 当用户点击各项明细时，系统应显示对应的详细记录页面
8. 当用户点击设置时，系统应显示账户设置选项（个人信息、通知设置、隐私设置等）

### 需求 10: 视频内容模块

**用户故事**: 作为用户，我想要观看短视频内容并获得积分奖励，以便通过多种内容形式赚取收益。

#### 验收标准

##### 10.1 第三方视频SDK接入
1. 系统应接入百度或腾讯视频SDK获取短视频流内容
2. 系统应使用第三方SDK自带的信息流广告功能
3. 当SDK初始化失败时，系统应显示友好错误提示并记录日志
4. 系统应根据第三方SDK的配置要求设置视频播放参数

##### 10.2 视频列表展示
5. 当用户点击底部导航"视频"标签时，系统应显示短视频信息流列表
6. 视频列表应采用上下滑动切换的沉浸式播放模式
7. 当显示视频时，系统应显示视频标题、点赞数、评论数和分享按钮
8. 系统应自动播放当前屏幕中的视频
9. 当用户滑动切换视频时，系统应暂停上一个视频并播放新视频

##### 10.3 视频播放与倒计时
10. 当视频开始播放时，系统应在屏幕右上角显示悬浮倒计时组件
11. 倒计时应显示观看3个完整视频所需的剩余时间（例如：剩余15秒）
12. 倒计时应实时更新，每秒递减
13. 当用户暂停视频时，倒计时应同步暂停
14. 系统应支持视频的暂停、继续、音量调整等基本播放控制

##### 10.4 积分奖励机制
16. 当用户观看视频达到80%以上时长时，系统应判定为"看完视频"
17. 当视频看完时，系统应发放积分奖励并计入可兑换积分
18. 当积分计入待释放时，系统应显示"获得X积分"的提示动画
19. 系统应记录用户已观看的视频ID，防止重复奖励
20. 每个视频每日只能获得一次积分奖励
21. 系统应在倒计时结束时显示"恭喜获得积分"提示
22. 视频观看获得的积分每日上限值为4000、超过不计入

##### 10.5 信息流广告
22. 系统应使用第三方SDK自带的信息流广告
23. 广告视频应每隔3-5个内容视频插入一次
24. 广告视频应标注"广告"字样，与内容视频区分
25. 当用户观看广告视频时，倒计时应正常显示
26. 观看完广告视频应获得额外积分奖励（高于普通视频）

##### 10.6 数据统计
27. 系统应统计视频播放次数、完播率、停留时长
28. 系统应将统计数据上报后台用于活跃度分析
29. 当视频播放完成时，系统应更新视频观看数


### 需求 12: 客服系统

**用户故事**: 作为用户，我想要联系客服解决问题，以便在遇到困难时获得帮助。

#### 验收标准

1. 当用户点击"联系客服"时，系统应打开客服对话界面
2. 当客服界面打开时，系统应显示常见问题列表
3. 当用户选择问题时，系统应显示对应的解答内容
4. 如果用户需要人工客服，系统应提供在线客服或客服联系方式
5. 当用户发送消息时，系统应将消息传递给客服系统
6. 当客服回复时，系统应实时显示客服回复内容

### 需求 13: 底部导航

**用户故事**: 作为用户，我想要通过底部导航快速切换主要功能模块，以便高效使用应用。

#### 验收标准

1. 系统应在所有主要页面底部显示导航栏
2. 系统应在导航栏显示四个标签：首页、视频、任务、我的
3. 当用户点击导航标签时，系统应切换到对应的功能模块
4. 当用户在某个模块时，系统应高亮显示对应的导航标签
5. 系统应确保导航栏始终可见且可操作

### 需求 14: 数据持久化

**用户故事**: 作为系统，我需要可靠地存储用户数据，以便保证数据安全和一致性。

#### 验收标准

1. 当用户数据发生变化时，系统应将数据持久化到数据库
2. 当系统重启或用户重新登录时，系统应从数据库加载用户最新数据
3. 系统应确保积分交易的原子性（要么全部成功，要么全部失败）
4. 当并发操作发生时，系统应使用锁机制防止数据冲突
5. 系统应定期备份用户数据以防数据丢失
6. 当数据库操作失败时，系统应记录错误日志并向用户提示友好错误信息

## 业务规则

### 积分发放规则
- 签到奖励：首日10积分，连续签到每日递增5积分，最高50积分/天
- 阅读资讯：每篇5积分，每日上限100积分
- 观看视频：每个视频5积分，需观看80%以上，每日上限50积分
- 观看广告：每次20积分，每日上限4次
- 邀请好友：每邀请一人10积分，获得的积分每日最多计算50积分，邀请人数无上限

### 提现规则
- 最低提现金额：3020积分（等值0.3元人民币）
- 积分兑换比例：10000积分 = 1元人民币
- 提现手续费：2%的积分扣取
- 提现到账时间:<10元 秒到、>=10 管理审核

### 活跃度计算规则
- 每日签到：+3活跃度 上限9活跃度
- 完成任务：+5活跃度/任务
- 邀请好友：+10活跃度/人 上限20活跃度
- 看有收益激励视频广告：+5活跃度 上限20
- 点首页banner广告：+2活跃度 上限10
- 点视频内广告：+5活跃度 上限10
- 累计观看短视频时长5分钟：+5活跃度  上限10
- 资讯累计停留时长5分钟：+5活跃度  上限10
- 首页停留时长5分钟：+5活跃度  上限10
- 活跃度24小时重置为0

### 会员等级规则
- 等级根据邀请好友数量升级，不同等级对应其分配的下级好友看广告收益比例、释放积分（结合活跃度区间或名下会员平均活跃度最终释放积分不一样）
- 不同等级享有不同的任务奖励倍率和提现优先级

## 非功能需求

### 性能需求
- 页面加载时间应在2秒内完成
- 支持至少10000并发用户同时在线
- 积分交易响应时间应在1秒内完成

### 安全需求
- 用户密码必须加密存储
- 积分交易必须有完整的审计日志
- 防止刷积分作弊行为（IP限制、设备指纹、行为分析）

### 可用性需求
- 系统可用性应达到99.9%
- 支持7x24小时运行
- 关键功能故障应在1小时内修复

### 兼容性需求
- 支持iOS 12.0及以上版本
- 支持Android 8.0及以上版本
- 适配主流屏幕尺寸（4.7寸至6.7寸）

### 可扩展性需求
- 系统架构应支持水平扩展
- 新增任务类型应无需修改核心代码
- 支持灵活配置积分规则和任务参数
### 三方接入
  - https://union.xuanshangwa.com.cn/index/login 悬赏任务后台网址  https://doc.xuanshangwa.com.cn/union  悬赏任务对接文档     媒体ID(mt_id) 2037  对接秘钥(mt_key) 1a8e81977b3a74e1142893df47cb9c89
- https://ssp.91taojin.com.cn/index/login/tid/127 游戏试玩后台网址 https://doc.91taojin.com.cn/sdk 游戏试玩对接文档   媒体ID(mt_id) 4708  对接秘钥(mt_key) 67646b843c4b7541ecb1c9329744252e